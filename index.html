<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Transactiekosten Frankrijk – Premium Tool</title>
  <link rel="stylesheet" href="./style.css" />
</head>

<body>

<div class="app-wrapper">

  <header class="header">
    <h1>Transactiekosten bij Aankoop & Verkoop in Frankrijk</h1>
    <p class="sub">
      Premium rekentool • Notariskosten • Plus-Value • Facultatieve kosten • Educatief scenario-dashboard
    </p>
  </header>

  <!-- ROL -->
  <section class="card fade-in">
    <h2>1. Uw rol in de transactie</h2>

    <div class="role-row">
      <label class="role-box">
        <input type="radio" name="role" id="role_koper" value="koper" checked>
        <span>Koper</span>
      </label>
      <label class="role-box">
        <input type="radio" name="role" id="role_verkoper" value="verkoper">
        <span>Verkoper</span>
      </label>
      <label class="role-box">
        <input type="radio" name="role" id="role_notaris" value="notaris">
        <span>Notaris (scenario’s)</span>
      </label>
    </div>

    <p class="hint">
      De tool toont altijd beide kostenblokken. In <strong>Notaris-modus</strong> kunt u alle velden wijzigen om scenario’s te bouwen.
    </p>
  </section>

  <!-- BASISGEGEVENS -->
  <section class="card fade-in">
    <h2>2. Basisgegevens</h2>

    <div class="form-grid">

      <div class="field">
        <label>Aankoopprijs destijds (€)</label>
        <input id="prix_achat" type="number" value="250000" />
        <div id="notaire_hint" class="inline-info"></div>
      </div>

      <div class="field">
        <label>Verkoopprijs nu (€)</label>
        <input id="prix_vente" type="number" value="350000" />
      </div>

      <div class="field">
        <label>Départementnummer</label>
        <div class="field-inline">
          <input id="dept" type="number" value="75" />
          <button class="info-btn" onclick="toggleInfo('info_dept')">i</button>
        </div>
        <div id="mutation_info" class="inline-info"></div>
        <div id="info_dept" class="info-box collapsible">
          Het mutationstarief (“droits de mutation”) is de overdrachtsbelasting.  
          Afhankelijk van het département: 5,09%, 5,81% of 6,31%.  
          De tool bepaalt dit automatisch.  
          Bron:  
          <a target="_blank" href="https://www.service-public.fr/particuliers/vosdroits/F10864">
            Service-Public – Droits de mutation
          </a>.
        </div>
      </div>

      <div class="field">
        <label>Type woning</label>
        <select id="type_bien">
          <option value="ancien">Bestaand (ancien)</option>
          <option value="vefa">Nieuw / VEFA</option>
        </select>
      </div>

      <div class="field">
        <label>Résidence principale bij verkoop?</label>
        <select id="rp">
          <option value="yes">Ja (vrijstelling)</option>
          <option value="no" selected>Nee</option>
        </select>
      </div>

      <div class="field">
        <label>Jaren bezit</label>
        <input id="annees" type="number" value="10" />
      </div>

    </div>
  </section>

  <!-- FACULTATIEVE KOSTEN -->
  <section class="card fade-in">
    <h2>3. Facultatieve kosten</h2>

    <!-- Makelaarskosten → 3 knoppen -->
    <div class="field small-gap">
      <label>Makelaarskosten (3–8%)</label>
      <div class="broker-buttons">
        <button class="choice-btn active" data-role="verkoper" onclick="setMakelaar(this)">Verkoper</button>
        <button class="choice-btn" data-role="koper" onclick="setMakelaar(this)">Koper</button>
        <button class="choice-btn" data-role="geen" onclick="setMakelaar(this)">Geen</button>
      </div>
      <input type="hidden" id="opt_makelaar_rol" value="verkoper">
    </div>

    <!-- Opties als tegels -->
    <div class="tile-grid">

      <div class="tile">
        <div class="tile-header">
          <input type="checkbox" id="opt_hypotheek">
          <button class="info-btn-tile" onclick="toggleInfo('i_hyp')">i</button>
        </div>
        <div class="tile-title">Hypotheekgarantie / Caution</div>
        <div id="i_hyp" class="info-box collapsible">
          Een *caution bancaire* wordt slechts onder specifieke voorwaarden verstrekt:
          stabiel inkomen, residentiestatus en sterke bancaire relatie.
          Buitenlandse kopers van een tweede woning krijgen dit vaak moeilijk.  
          Bron:  
          <a href="https://www.service-public.fr/particuliers/vosdroits/F2415" target="_blank">
            Service-Public – Garantie bancaire
          </a>.
        </div>
      </div>

      <div class="tile">
        <div class="tile-header">
          <input type="checkbox" id="opt_mainlevee">
          <button class="info-btn-tile" onclick="toggleInfo('i_main')">i</button>
        </div>
        <div class="tile-title">Mainlevée d’hypothèque</div>
        <div id="i_main" class="info-box collapsible">
          Opheffing oude hypotheek, €400–€900.  
          Verplicht als een hypotheek nog geregistreerd staat.
        </div>
      </div>

      <div class="tile">
        <div class="tile-header">
          <input type="checkbox" id="opt_assainissement">
          <button class="info-btn-tile" onclick="toggleInfo('i_assain')">i</button>
        </div>
        <div class="tile-title">Assainissement / SPANC</div>
        <div id="i_assain" class="info-box collapsible">
          SPANC-inspectie verplicht.  
          Niet-conformiteit leidt vaak tot herstel binnen 1 jaar.
        </div>
      </div>

      <div class="tile">
        <div class="tile-header">
          <input type="checkbox" id="opt_geometre">
          <button class="info-btn-tile" onclick="toggleInfo('i_geo')">i</button>
        </div>
        <div class="tile-title">Géomètre</div>
        <div id="i_geo" class="info-box collapsible">
          Verplicht bij *bornage* of perceelsplitsing.  
          Richtprijs €500–€2000.
        </div>
      </div>

    </div>
  </section>

  <!-- PLUS VALUE -->
  <section class="card fade-in">
    <h2>4. Plus-Value (verkoper)</h2>

    <p class="hint">
      Plus-value geldt uitsluitend voor de verkoper.  
      Deze tool rekent volgens de forfaitaire methode.  
      Een volledige, gedetailleerde simulator staat op Infofrankrijk.com.
    </p>
  </section>

  <!-- BUTTON -->
  <section class="card center fade-in">
    <button id="calc-btn" onclick="calcAll()">Bereken alle kosten</button>
  </section>

  <!-- RESULTATEN -->
  <section class="card fade-in" id="result-section" style="display:none;">
    <h2>5. Resultaten</h2>

    <div id="result-koper"></div>
    <div id="result-verkoper"></div>
    <div id="result-totaal"></div>

    <div id="result-advies"></div>
  </section>

  <!-- FAQ -->
  <section class="card fade-in">
    <h2>6. FAQ</h2>

    <div class="faq-item">
      <div class="faq-q" onclick="toggleFAQ(this)">Wie betaalt de notaris?</div>
      <div class="faq-a collapsible">
        De koper betaalt de notariskosten.  
        Twee notarissen → geen hogere kosten voor koper of verkoper.  
        <br>
        <a href="https://www.service-public.fr/particuliers/vosdroits/F31470" target="_blank">
          Bron: Service-Public – Frais d’acquisition
        </a>
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-q" onclick="toggleFAQ(this)">Wat is het mutationstarief?</div>
      <div class="faq-a collapsible">
        Overdrachtsbelasting (droits de mutation).  
        5,09% – 5,81% – 6,31% afhankelijk van département.  
        <br>
        <a href="https://www.service-public.fr/particuliers/vosdroits/F10864" target="_blank">
          Service-Public – Droits de mutation
        </a>
      </div>
    </div>

    <div class="faq-item">
      <div class="faq-q" onclick="toggleFAQ(this)">Hoe vermijd ik plus-value?</div>
      <div class="faq-a collapsible">
        Door het pand uw résidence principale te maken voorafgaand aan verkoop,  
        mits voldaan wordt aan de wettelijke voorwaarden:
        feitelijke bewoning, hoofdverblijfstatus en verkoop binnen redelijke termijn.  
        <br>
        <a href="https://www.service-public.fr/particuliers/vosdroits/F10864" target="_blank">
          Bron: Service-Public – Exonération résidence principale
        </a>
      </div>
    </div>
  </section>

  <footer class="footer fade-in">
    © Infofrankrijk.com – indicatieve berekening, geen juridisch advies.
  </footer>

</div>

<script src="./script.js"></script>
</body>
</html>
