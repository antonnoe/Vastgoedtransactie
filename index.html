<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Transactiekosten Frankrijk – Calculator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<div class="app">

  <h1 class="title">Transactiekosten bij Aankoop & Verkoop (Frankrijk)</h1>

  <!-- ============================================================
       ROLSELECTIE
       ============================================================ -->
  <section class="block">
    <h2>Rol in de transactie</h2>

    <label class="radio-line">
      <input type="radio" name="role" value="koper" checked onclick="setRole('koper')"> Ik ben koper
    </label>

    <label class="radio-line">
      <input type="radio" name="role" value="verkoper" onclick="setRole('verkoper')"> Ik ben verkoper
    </label>

    <p class="subtext">
      Ontgrendelde velden zijn invoerbaar. Velden van de andere partij worden wel getoond, maar zijn vergrendeld.
    </p>
  </section>


  <!-- ============================================================
       BASISGEGEVENS
       ============================================================ -->
  <section class="block">
    <h2>Basisgegevens</h2>

    <div class="grid-2">

      <div>
        <label>Koopsom (€)</label>
        <input id="prix_achat" type="number" value="200000">
        <div class="inline-note">
          Indicatie notariskosten: <span id="notaris_preview">–</span>
        </div>
      </div>

      <div>
        <label>Verkoopprijs (€)</label>
        <input id="prix_vente" type="number" value="400000">
      </div>

      <div>
        <label>Départementnummer</label>
        <input id="dept" type="number" value="62" oninput="updateMutationRate()">
        <div class="inline-note">
          Mutationstarief: <span id="mut_rate">–</span>
        </div>
      </div>

      <div>
        <label>Type woning</label>
        <select id="type_bien">
          <option value="ancien">Bestaand (ancien)</option>
          <option value="vefa">Nieuw / VEFA</option>
        </select>
      </div>

      <div>
        <label>Résidence principale bij verkoop?</label>
        <select id="rp">
          <option value="yes">Ja → vrijstelling</option>
          <option value="no" selected>Nee</option>
        </select>
      </div>

      <div>
        <label>Jaren bezit</label>
        <input id="annees" type="number" value="8">
      </div>

    </div>
  </section>


  <!-- ============================================================
       MAKELAARSKOSTEN (radio — één partij)
       ============================================================ -->
  <section class="block">
    <h2>Makelaarskosten (één partij)</h2>

    <label class="radio-line">
      <input type="radio" name="agence" value="verkoper" checked> Verkoper betaalt (meest gebruikelijk)
    </label>

    <label class="radio-line">
      <input type="radio" name="agence" value="koper"> Koper betaalt
    </label>

    <label class="radio-line">
      <input type="radio" name="agence" value="geen"> Geen makelaar betrokken
    </label>

    <div class="info-box">
      <strong>Uitleg:</strong><br>
      Makelaarskosten zijn onderhandelbaar (3–8%). Wanneer de koper betaalt, kan dit later worden opgevoerd als kosten bij zijn toekomstige plus-value.  
      Wanneer de verkoper betaalt, verlaagt het de netto-opbrengst.  
      Geen makelaar → notaris kan volledige verkoop begeleiden → grootste kostenbesparing voor de verkoper.
    </div>
  </section>


  <!-- ============================================================
       FACULTATIEVE KOSTEN
       ============================================================ -->
  <section class="block">
    <h2>Facultatieve kosten</h2>

    <div class="opt">
      <input type="checkbox" id="opt_hypotheek">
      <label for="opt_hypotheek"><strong>Hypotheekgarantie / caution (koper)</strong></label>
      <div class="i" onclick="toggleInfo('i_hypotheek')">i</div>
      <div class="info" id="i_hypotheek">
        Als koper kunt u kiezen tussen een klassieke hypothèque (duur) of een garantie/caution (goedkoper).  
        Besparing: €500–€1.500.  
        Wordt enkel geactiveerd wanneer u een lening gebruikt.
      </div>
    </div>

    <div class="opt">
      <input type="checkbox" id="opt_mainlevee">
      <label for="opt_mainlevee"><strong>Mainlevée d’hypothèque (verkoper)</strong></label>
      <div class="i" onclick="toggleInfo('i_mainlevee')">i</div>
      <div class="info" id="i_mainlevee">
        Verplichte opheffing van een bestaande hypotheek.  
        Kosten €400–€900.  
        Te beperken door de hypotheek vooraf af te lossen.
      </div>
    </div>

    <div class="opt">
      <input type="checkbox" id="opt_assain">
      <label for="opt_assain"><strong>Assainissement / fosse septique (verkoper)</strong></label>
      <div class="i" onclick="toggleInfo('i_assain')">i</div>
      <div class="info" id="i_assain">
        Gemeenten kunnen een verplicht rapport eisen.  
        Als het systeem niet conform is, kan de koper tot €15.000 aan renovatie verlangen.  
        Door dit vooraf te controleren voorkomt u hoge kosten.
      </div>
    </div>

    <div class="opt">
      <input type="checkbox" id="opt_geo">
      <label for="opt_geo"><strong>Géomètre (verkoper)</strong></label>
      <div class="i" onclick="toggleInfo('i_geo')">i</div>
      <div class="info" id="i_geo">
        Enkel verplicht bij grensdisputen of perceelwijziging.  
        Kosten €500–€2.000.  
        Voorkom dit door uw dossier vooraf op te bouwen (kadaster + buurakkoord).
      </div>
    </div>

  </section>


  <!-- ============================================================
       PLUS-VALUE (alleen zichtbaar als rol = verkoper)
       ============================================================ -->
  <section class="block" id="pv_block">
    <h2>Plus-Value parameters (verkoper)</h2>

    <label>Kostensysteem</label>
    <select id="pv_mode" onchange="togglePVmode()">
      <option value="forfait">Forfait (7,5% + 15%)</option>
      <option value="custom">Eigen bedragen</option>
    </select>

    <div id="pv_custom" class="hidden">
      <label>Werkelijke aankoopkosten (€)</label>
      <input type="number" id="pv_cout" value="0">

      <label>Werkelijke verbouwingskosten (€)</label>
      <input type="number" id="pv_travaux" value="0">
    </div>

    <div class="info-box">
      <strong>Uitleg plus-value:</strong><br>
      – 19% belasting, vrijstelling na 22 jaar<br>
      – 17,2% sociale lasten, vrijstelling na 30 jaar<br>
      – Voor hoofdverblijf → altijd vrijstelling
    </div>
  </section>


  <!-- ============================================================
       BEREKENKNOP
       ============================================================ -->
  <button id="calc" onclick="calcAll()">Bereken alles</button>


  <!-- ============================================================
       RESULTAAT
       ============================================================ -->
  <section id="result" class="block"></section>


  <!-- ============================================================
       FAQ (harmonica, v2)
       ============================================================ -->
  <section class="block faq">
    <h2>Veelgestelde vragen</h2>

    <div class="fq" onclick="toggleFAQ('fq1')">Wie betaalt de notaris?</div>
    <div class="fa" id="fq1">
      De koper betaalt de wettelijke notariskosten.  
      Zowel koper als verkoper mogen hun eigen notaris inschakelen zonder dat de totale kosten stijgen.
    </div>

    <div class="fq" onclick="toggleFAQ('fq2')">Hoe werkt het mutationstarief?</div>
    <div class="fa" id="fq2">
      Voer een département in → de tool toont het juiste tarief.  
      Geen département ingevuld → standaardtarief 5,80665%.
    </div>

    <div class="fq" onclick="toggleFAQ('fq3')">Hoe kan ik kosten besparen?</div>
    <div class="fa" id="fq3">
      – Geen makelaar gebruiken<br>
      – Een caution kiezen i.p.v. hypothèque<br>
      – Dossier vooraf compleet maken<br>
      – Goed plannen i.v.m. plus-value staffels
    </div>

    <div class="fq" onclick="toggleFAQ('fq4')">Welke facturen moet ik bewaren?</div>
    <div class="fa" id="fq4">
      Alle verbouwingen met factuur op naam (TVA-aftrekbaar), makelaarskosten, notariskosten, aankoopkosten.
    </div>

  </section>

</div>

<script src="script.js"></script>
</body>
</html>
